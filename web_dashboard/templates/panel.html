{% extends 'base.html' %}

{% block extra_css %}
<style>
    /* Discord Embed Style Adaptation */
    .discord-embed {
        background: rgba(0, 0, 0, 0.3);
        border-left: 4px solid #00d2ff;
        border-radius: 4px;
        padding: 15px;
        margin-top: 10px;
        font-size: 0.85rem;
    }
    .embed-title { font-weight: 700; color: white; margin-bottom: 8px; }
    .embed-desc { color: rgba(255,255,255,0.7); line-height: 1.4; }
    .action-bar { display: flex; gap: 10px; margin-bottom: 10px; }
    .action-btn {
        font-size: 0.8rem; padding: 4px 10px; border-radius: 4px;
        background: rgba(255, 255, 255, 0.1); color: white; text-decoration: none; transition: 0.2s;
    }
    .action-btn:hover { background: #00d2ff; color: #000; }
</style>
{% endblock %}

{% block content %}
<div class="mb-4 d-flex justify-content-between align-items-center">
    <div>
        <h2 class="fw-bold">Panel Management</h2>
        <p class="text-white-50">Kelola tampilan panel dan embed di Discord server.</p>
    </div>
    <form action="/panel/action" method="POST" class="d-inline">
        <button type="submit" name="action" value="refresh_status" class="btn btn-glass"><i class="fas fa-sync me-2"></i> Refresh Status</button>
    </form>
</div>

<div class="row g-4">
    <!-- 1. Admin Dashboard Panel -->
    <div class="col-md-4">
        <div class="glass-card h-100 d-flex flex-column">
            <div class="d-flex justify-content-between mb-3">
                <h5 class="fw-bold"><i class="fas fa-user-shield me-2"></i>Admin Dashboard</h5>
                <span class="badge bg-warning text-dark">Admin Only</span>
            </div>
            <p class="text-white-50 small">Panel kontrol pusat untuk admin mengelola patungan, verifikasi pembayaran, dan settings.</p>
            
            <div class="discord-embed mb-3">
                <div class="embed-title">ğŸ‘‘ DVN COMMAND CENTER</div>
                <div class="embed-desc">
                    Panel kontrol eksekutif untuk manajemen transaksi Patungan X8.<br><br>
                    **ğŸ“‹ Menu Admin:**<br>
                    â›ï¸ **Buat Patungan** - Membuat patungan baru (V1, V2, dll)<br>
                    â›ï¸ **Kelola Patungan** - Lihat status dan edit patungan<br>
                    â›ï¸ **Verifikasi Pembayaran** - Cek pembayaran pending
                </div>
            </div>

            <div class="mt-auto">
                <form action="/panel/action" method="POST">
                    <button type="submit" name="action" value="send_dashboard" class="btn btn-sm btn-glass w-100 mb-2"><i class="fas fa-paper-plane me-2"></i>Kirim Ulang Panel</button>
                </form>
                <div class="text-center"><small class="text-white-50">Channel: #admin-dashboard</small></div>
            </div>
        </div>
    </div>

    <!-- 2. List PTPT Panel -->
    <div class="col-md-4">
        <div class="glass-card h-100 d-flex flex-column">
            <div class="d-flex justify-content-between mb-3">
                <h5 class="fw-bold"><i class="fas fa-list-ul me-2"></i>List PTPT</h5>
                <span class="badge bg-success">Live Update</span>
            </div>
            <p class="text-white-50 small">List otomatis yang menampilkan status real-time semua patungan aktif.</p>
            
            <div class="discord-embed mb-3" style="border-left-color: #2ecc71;">
                <div class="embed-title">ğŸ”¥ V1 - 24 Jam</div>
                <div class="embed-desc">
                    `1.` User1 - || @User1 || (PAID) âœ…<br>
                    `2.` User2 - || @User2 || (BOOKED) âŒ¨ï¸<br>
                    ...<br><br>
                    ğŸ“œ **Script:** âœ… Yes<br>
                    ğŸš€ **Start:** Full Slot
                </div>
            </div>

            <div class="mt-auto">
                <form action="/panel/action" method="POST">
                    <button type="submit" name="action" value="refresh_list" class="btn btn-sm btn-glass w-100 mb-2"><i class="fas fa-sync-alt me-2"></i>Force Refresh List</button>
                </form>
                <div class="text-center"><small class="text-white-50">Channel: #list-ptpt-x8</small></div>
            </div>
        </div>
    </div>

    <!-- 3. Ticket PTPT Panel -->
    <div class="col-md-4">
        <div class="glass-card h-100 d-flex flex-column">
            <div class="d-flex justify-content-between mb-3">
                <h5 class="fw-bold"><i class="fas fa-ticket-alt me-2"></i>Ticket Panel</h5>
                <span class="badge bg-info">Public</span>
            </div>
            <p class="text-white-50 small">Panel utama bagi user untuk membuat ticket order baru.</p>
            
            <div class="discord-embed mb-3" style="border-left-color: #3498db;">
                <div class="embed-title">ğŸ€ OPEN SLOT PTPT & X8 LUCK ğŸ€</div>
                <div class="embed-desc">
                    âœ¨ **Halo Fisherman!** Ingin join slot Patungan (PTPT) Boost Luck?<br><br>
                    **Cara Order:**<br>
                    1ï¸âƒ£ Klik tombol **ğŸ« Buat Ticket** di bawah.<br>
                    2ï¸âƒ£ Pilih **Server / Jenis Layanan** yang kamu inginkan.<br>
                    3ï¸âƒ£ Lakukan pembayaran sesuai instruksi bot.<br><br>
                    *âš ï¸ Pastikan slot masih tersedia di channel Info Slot!*
                </div>
            </div>

            <div class="mt-auto">
                <form action="/panel/action" method="POST">
                    <button type="submit" name="action" value="send_ticket" class="btn btn-sm btn-glass w-100 mb-2"><i class="fas fa-paper-plane me-2"></i>Kirim Ulang Panel</button>
                </form>
                <div class="text-center"><small class="text-white-50">Channel: #open-ticket</small></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}